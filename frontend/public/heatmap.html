<!-- heatmap.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LinkedIn Helper – Alumni Heatmap</title>
  <link rel="stylesheet" href="alumni_style.css" />
  <!-- Leaflet CSS for 2D mapping -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
  <!-- Cesium CSS for 3D globe -->
  <link rel="stylesheet" href="https://cesium.com/downloads/cesiumjs/releases/1.111/Build/Cesium/Widgets/widgets.css" />
  <link rel="stylesheet" href="heatmap_style.css" />
</head>
<body>
  <header class="appbar" role="banner">
    <div class="appbar-inner">
      <div class="brand" aria-label="LinkedIn Helper">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 11.5c3.5-1.5 6-4 8-8 2 4 4.5 6.5 8 8-3.5 1.5-6 4-8 8-2-4-4.5-6.5-8-8Z" fill="currentColor"/></svg>
        LinkedIn Helper <small>Alumni Heatmap</small>
      </div>
      <div class="app-actions">
        <a class="btn action-btn" href="/alumni">← Back to Alumni</a>
        <a class="btn secondary" href="/logout">Sign out</a>
      </div>
    </div>
  </header>

  <main class="page heatmap-page" role="main">
    <section class="heatmap-section">
      <button id="headerToggleBtn" class="header-toggle-btn" title="Toggle Header">
        <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
          <path d="M7 10l5 5 5-5z"/>
        </svg>
      </button>
      <div class="heatmap-header" id="heatmapHeader">
        <div class="header-content">
          <div class="header-info">
            <h2>Alumni Distribution Heatmap</h2>
            <p class="heatmap-description">Visualization of where our alumni are located worldwide</p>
            <div class="heatmap-stats" id="heatmapStats"></div>
          </div>
          <div class="header-buttons">
            <button id="fullscreenBtn" class="fullscreen-btn" title="Toggle Fullscreen">
              <svg class="fullscreen-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
              </svg>
              <svg class="exit-fullscreen-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"/>
              </svg>
            </button>
          </div>
        </div>
      
        <div id="continentFilters">
          <button class="continent-btn" data-continent="North America" onclick="filterByContinent('North America')">North America</button>
          <button class="continent-btn" data-continent="Europe" onclick="filterByContinent('Europe')">Europe</button>
          <button class="continent-btn" data-continent="Asia" onclick="filterByContinent('Asia')">Asia</button>
          <button class="continent-btn" data-continent="Africa" onclick="filterByContinent('Africa')">Africa</button>
          <button class="continent-btn" data-continent="Oceania" onclick="filterByContinent('Oceania')">Oceania</button>
          <button class="continent-btn" data-continent="South America" onclick="filterByContinent('South America')">South America</button>
          <button class="continent-btn" data-continent="Antarctica" onclick="filterByContinent('Antarctica')">Antarctica</button>
          <button class="continent-btn" onclick="resetContinent()">Show All</button>
        </div>
      </div>  
      
      <!-- Map wrapper to contain absolute positioned maps -->
      <div class="map-wrapper">
        <!-- Map containers - both 2D and 3D -->
        <div id="map2DContainer" class="map-container"></div>
        <div id="map3DContainer" class="map-container" style="display: none;"></div>
      </div>
      
      <!-- Location details panel -->
      <aside class="heatmap-sidebar" id="heatmapSidebar">
        <button class="sidebar-close-btn" onclick="document.getElementById('heatmapSidebar').classList.remove('visible')">&times;</button>
        <h3>Location Details</h3>
        <div id="locationDetails" class="location-details-content">
          <p class="info-text">Click on a cluster on the map to see details</p>
        </div>
      </aside>
    </section>
  </main>

  <footer>
    <div class="stamp">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 11.5c3.5-1.5 6-4 8-8 2 4 4.5 6.5 8 8-3.5 1.5-6 4-8 8-2-4-4.5-6.5-8-8Z" fill="currentColor"/></svg>
      LinkedIn Helper
    </div>
    <nav aria-label="Footer links">
      <a href="#">About LinkedIn Helper</a>
      <a href="#">Alumni</a>
      <a href="#">Engineering</a>
    </nav>
  </footer>

  <!-- Leaflet JS for 2D -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.heat/0.2.0/leaflet-heat.js"></script>
  <!-- Cesium JS for 3D Globe -->
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.111/Build/Cesium/Cesium.js"></script>
  <!-- Dual Heatmap app -->
  <script src="heatmap_dual.js"></script>
</body>
</html>
